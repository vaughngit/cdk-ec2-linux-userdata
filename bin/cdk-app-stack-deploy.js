"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//import * as cdk from '@aws-cdk/core';
//import {App, Stack, Construct, Tags, StackProps} from '@aws-cdk/core';
const aws_cdk_lib_1 = require("aws-cdk-lib");
const ec2_linux_stack_1 = require("../lib/ec2-linux-stack");
const ec2_ubuntu_stack_1 = require("../lib/ec2-ubuntu-stack");
const ec2_ubuntu_userdata_stack_1 = require("../lib/ec2-ubuntu-userdata-stack");
const ec2_infra_stack_1 = require("../lib/ec2-infra-stack");
const ec2_windows_stack_1 = require("../lib/ec2-windows-stack");
const s3_repo_stack_1 = require("../lib/s3-repo-stack");
let date_ob = new Date();
const dateStamp = date_ob.toDateString();
const timestamp = date_ob.toLocaleTimeString();
const dtstamp = dateStamp + '' + ' ' + timestamp;
const aws_region = 'us-east-2';
const solutionName = "cloud9Restored";
const environment = "dev";
const costcenter = "12_1_12_9_20_8";
const ec2KeyName = "OhioDevKey";
const app = new aws_cdk_lib_1.App();
new ec2_infra_stack_1.InfrastructureStack(app, `infra-stack`, {
    stackName: `${solutionName}-vpc-${aws_region}`,
    env: {
        account: process.env.CDK_DEFAULT_ACCOUNT,
        region: aws_region || process.env.CDK_DEFAULT_REGION
    },
    environment,
    solutionName,
    serviceName: "ec2-infrastructure",
    costcenter
});
new s3_repo_stack_1.S3RepoStack(app, `s3-bucket`, {
    stackName: `${solutionName}-s3-bucket-${aws_region}`,
    env: {
        account: process.env.CDK_DEFAULT_ACCOUNT,
        region: aws_region || process.env.CDK_DEFAULT_REGION
    },
    environment,
    solutionName,
    appName: "s3-bucket",
    costcenter
});
new ec2_windows_stack_1.EC2WindowsStack(app, 'win-ec2', {
    stackName: 'CDK-EC2-Windows',
    env: {
        region: aws_region || process.env.CDK_DEFAULT_REGION,
        account: process.env.CDK_DEFAULT_ACCOUNT,
    },
    appName: "ec2-windows",
    solutionName,
    environment,
    costcenter,
    ec2KeyName,
    dtstamp,
    appPort: 22,
    testingLocation: "0.0.0.0/32"
});
new ec2_ubuntu_userdata_stack_1.UbuntuEc2UserdataStack(app, 'ubuntu-userdata', {
    env: {
        region: aws_region || process.env.CDK_DEFAULT_REGION,
        account: process.env.CDK_DEFAULT_ACCOUNT,
    },
    stackName: `${solutionName}-CDK-EC2-Ubuntu-NonPublic`,
    serviceName: "ec2-ubuntu",
    solutionName,
    environment,
    costcenter,
    ec2KeyName,
    dtstamp,
    appPort: 22,
    testingLocation: "0.0.0.0/32"
});
const ubuntu = new ec2_ubuntu_stack_1.UbuntuEC2Stack(app, 'ubuntu', {
    stackName: `${solutionName}-CDK-EC2-Ubuntu`,
    env: {
        region: aws_region || process.env.CDK_DEFAULT_REGION,
        account: process.env.CDK_DEFAULT_ACCOUNT,
    },
});
const ec2_stack = new ec2_linux_stack_1.EC2DeployStack(app, 'amazonlinux', {
    stackName: `${solutionName}-CDK-EC2-Linux-AMI-Deploy`,
    env: {
        region: aws_region || process.env.CDK_DEFAULT_REGION,
        account: process.env.CDK_DEFAULT_ACCOUNT,
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2RrLWFwcC1zdGFjay1kZXBsb3kuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjZGstYXBwLXN0YWNrLWRlcGxveS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVDQUF1QztBQUN2Qyx3RUFBd0U7QUFDeEUsNkNBQXFDO0FBQ3JDLDREQUFzRDtBQUN0RCw4REFBdUQ7QUFDdkQsZ0ZBQXVFO0FBQ3ZFLDREQUE2RDtBQUM3RCxnRUFBeUQ7QUFDekQsd0RBQWdEO0FBRWhELElBQUksT0FBTyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7QUFDekIsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLFlBQVksRUFBRSxDQUFBO0FBQ3hDLE1BQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsRUFBRSxDQUFBO0FBQzlDLE1BQU0sT0FBTyxHQUFHLFNBQVMsR0FBQyxFQUFFLEdBQUMsR0FBRyxHQUFDLFNBQVMsQ0FBQTtBQUMxQyxNQUFNLFVBQVUsR0FBRyxXQUFXLENBQUE7QUFDOUIsTUFBTSxZQUFZLEdBQUcsZ0JBQWdCLENBQUE7QUFDckMsTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFBO0FBQ3pCLE1BQU0sVUFBVSxHQUFHLGdCQUFnQixDQUFBO0FBQ25DLE1BQU0sVUFBVSxHQUFHLFlBQVksQ0FBQTtBQUUvQixNQUFNLEdBQUcsR0FBRyxJQUFJLGlCQUFHLEVBQUUsQ0FBQztBQUV0QixJQUFJLHFDQUFtQixDQUFDLEdBQUcsRUFBRSxhQUFhLEVBQUU7SUFDMUMsU0FBUyxFQUFFLEdBQUcsWUFBWSxRQUFRLFVBQVUsRUFBRTtJQUM3QyxHQUFHLEVBQUU7UUFDSixPQUFPLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUI7UUFDeEMsTUFBTSxFQUFFLFVBQVUsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtLQUNyRDtJQUNELFdBQVc7SUFDWCxZQUFZO0lBQ1osV0FBVyxFQUFFLG9CQUFvQjtJQUNqQyxVQUFVO0NBQ1gsQ0FBQyxDQUFDO0FBRUgsSUFBSSwyQkFBVyxDQUFDLEdBQUcsRUFBRSxXQUFXLEVBQUU7SUFDaEMsU0FBUyxFQUFFLEdBQUcsWUFBWSxjQUFjLFVBQVUsRUFBRTtJQUNuRCxHQUFHLEVBQUU7UUFDSixPQUFPLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUI7UUFDeEMsTUFBTSxFQUFFLFVBQVUsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtLQUNyRDtJQUNELFdBQVc7SUFDWCxZQUFZO0lBQ1osT0FBTyxFQUFFLFdBQVc7SUFDcEIsVUFBVTtDQUNYLENBQUMsQ0FBQztBQUVILElBQUksbUNBQWUsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFO0lBQ2xDLFNBQVMsRUFBRSxpQkFBaUI7SUFDNUIsR0FBRyxFQUFFO1FBQ0gsTUFBTSxFQUFFLFVBQVUsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtRQUNwRCxPQUFPLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUI7S0FDekM7SUFDRCxPQUFPLEVBQUUsYUFBYTtJQUN0QixZQUFZO0lBQ1osV0FBVztJQUNYLFVBQVU7SUFDVixVQUFVO0lBQ1YsT0FBTztJQUNQLE9BQU8sRUFBRSxFQUFFO0lBQ1gsZUFBZSxFQUFFLFlBQVk7Q0FDOUIsQ0FBQyxDQUFDO0FBSUgsSUFBSSxrREFBc0IsQ0FBQyxHQUFHLEVBQUUsaUJBQWlCLEVBQUU7SUFDakQsR0FBRyxFQUFFO1FBQ0gsTUFBTSxFQUFFLFVBQVUsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtRQUNwRCxPQUFPLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUI7S0FDekM7SUFDRCxTQUFTLEVBQUUsR0FBRyxZQUFZLDJCQUEyQjtJQUNyRCxXQUFXLEVBQUUsWUFBWTtJQUN6QixZQUFZO0lBQ1osV0FBVztJQUNYLFVBQVU7SUFDVixVQUFVO0lBQ1YsT0FBTztJQUNQLE9BQU8sRUFBRSxFQUFFO0lBQ1gsZUFBZSxFQUFFLFlBQVk7Q0FDOUIsQ0FBQyxDQUFBO0FBRUYsTUFBTSxNQUFNLEdBQUcsSUFBSSxpQ0FBYyxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUU7SUFDL0MsU0FBUyxFQUFFLEdBQUcsWUFBWSxpQkFBaUI7SUFDM0MsR0FBRyxFQUFFO1FBQ0gsTUFBTSxFQUFFLFVBQVUsSUFBSyxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQjtRQUNyRCxPQUFPLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUI7S0FDekM7Q0FDRixDQUFDLENBQUE7QUFJRixNQUFNLFNBQVMsR0FBRyxJQUFJLGdDQUFjLENBQUMsR0FBRyxFQUFFLGFBQWEsRUFBRTtJQUN2RCxTQUFTLEVBQUUsR0FBRyxZQUFZLDJCQUEyQjtJQUNyRCxHQUFHLEVBQUU7UUFDSCxNQUFNLEVBQUUsVUFBVSxJQUFLLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCO1FBQ3JELE9BQU8sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQjtLQUN6QztDQUNGLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vaW1wb3J0ICogYXMgY2RrIGZyb20gJ0Bhd3MtY2RrL2NvcmUnO1xuLy9pbXBvcnQge0FwcCwgU3RhY2ssIENvbnN0cnVjdCwgVGFncywgU3RhY2tQcm9wc30gZnJvbSAnQGF3cy1jZGsvY29yZSc7XG5pbXBvcnQge1RhZ3MsIEFwcH1mcm9tICdhd3MtY2RrLWxpYic7XG5pbXBvcnQge0VDMkRlcGxveVN0YWNrfSBmcm9tICcuLi9saWIvZWMyLWxpbnV4LXN0YWNrJztcbmltcG9ydCB7VWJ1bnR1RUMyU3RhY2t9IGZyb20gJy4uL2xpYi9lYzItdWJ1bnR1LXN0YWNrJzsgXG5pbXBvcnQge1VidW50dUVjMlVzZXJkYXRhU3RhY2t9IGZyb20gJy4uL2xpYi9lYzItdWJ1bnR1LXVzZXJkYXRhLXN0YWNrJ1xuaW1wb3J0IHsgSW5mcmFzdHJ1Y3R1cmVTdGFjayB9IGZyb20gJy4uL2xpYi9lYzItaW5mcmEtc3RhY2snO1xuaW1wb3J0IHtFQzJXaW5kb3dzU3RhY2t9IGZyb20gJy4uL2xpYi9lYzItd2luZG93cy1zdGFjayc7XG5pbXBvcnQge1MzUmVwb1N0YWNrfSBmcm9tICcuLi9saWIvczMtcmVwby1zdGFjaydcblxubGV0IGRhdGVfb2IgPSBuZXcgRGF0ZSgpO1xuY29uc3QgZGF0ZVN0YW1wID0gZGF0ZV9vYi50b0RhdGVTdHJpbmcoKVxuY29uc3QgdGltZXN0YW1wID0gZGF0ZV9vYi50b0xvY2FsZVRpbWVTdHJpbmcoKVxuY29uc3QgZHRzdGFtcCA9IGRhdGVTdGFtcCsnJysnICcrdGltZXN0YW1wXG5jb25zdCBhd3NfcmVnaW9uID0gJ3VzLWVhc3QtMidcbmNvbnN0IHNvbHV0aW9uTmFtZSA9IFwiY2xvdWQ5UmVzdG9yZWRcIlxuY29uc3QgZW52aXJvbm1lbnQgPSBcImRldlwiXG5jb25zdCBjb3N0Y2VudGVyID0gXCIxMl8xXzEyXzlfMjBfOFwiXG5jb25zdCBlYzJLZXlOYW1lID0gXCJPaGlvRGV2S2V5XCJcblxuY29uc3QgYXBwID0gbmV3IEFwcCgpO1xuXG5uZXcgSW5mcmFzdHJ1Y3R1cmVTdGFjayhhcHAsIGBpbmZyYS1zdGFja2AsIHtcbiAgc3RhY2tOYW1lOiBgJHtzb2x1dGlvbk5hbWV9LXZwYy0ke2F3c19yZWdpb259YCxcbiAgIGVudjogeyBcbiAgICBhY2NvdW50OiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9BQ0NPVU5ULFxuICAgIHJlZ2lvbjogYXdzX3JlZ2lvbiB8fCBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9SRUdJT05cbiAgfSxcbiAgZW52aXJvbm1lbnQsIFxuICBzb2x1dGlvbk5hbWUsIFxuICBzZXJ2aWNlTmFtZTogXCJlYzItaW5mcmFzdHJ1Y3R1cmVcIixcbiAgY29zdGNlbnRlclxufSk7XG5cbm5ldyBTM1JlcG9TdGFjayhhcHAsIGBzMy1idWNrZXRgLCB7XG4gIHN0YWNrTmFtZTogYCR7c29sdXRpb25OYW1lfS1zMy1idWNrZXQtJHthd3NfcmVnaW9ufWAsXG4gICBlbnY6IHsgXG4gICAgYWNjb3VudDogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVCxcbiAgICByZWdpb246IGF3c19yZWdpb24gfHwgcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfUkVHSU9OXG4gIH0sXG4gIGVudmlyb25tZW50LCBcbiAgc29sdXRpb25OYW1lLCBcbiAgYXBwTmFtZTogXCJzMy1idWNrZXRcIixcbiAgY29zdGNlbnRlclxufSk7XG5cbm5ldyBFQzJXaW5kb3dzU3RhY2soYXBwLCAnd2luLWVjMicsIHtcbiAgc3RhY2tOYW1lOiAnQ0RLLUVDMi1XaW5kb3dzJyxcbiAgZW52OiB7XG4gICAgcmVnaW9uOiBhd3NfcmVnaW9uIHx8IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX1JFR0lPTixcbiAgICBhY2NvdW50OiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9BQ0NPVU5ULFxuICB9LFxuICBhcHBOYW1lOiBcImVjMi13aW5kb3dzXCIsXG4gIHNvbHV0aW9uTmFtZSxcbiAgZW52aXJvbm1lbnQsXG4gIGNvc3RjZW50ZXIsXG4gIGVjMktleU5hbWUsXG4gIGR0c3RhbXAsXG4gIGFwcFBvcnQ6IDIyLFxuICB0ZXN0aW5nTG9jYXRpb246IFwiMC4wLjAuMC8zMlwiIFxufSk7XG5cblxuXG5uZXcgVWJ1bnR1RWMyVXNlcmRhdGFTdGFjayhhcHAsICd1YnVudHUtdXNlcmRhdGEnLCB7XG4gIGVudjoge1xuICAgIHJlZ2lvbjogYXdzX3JlZ2lvbiB8fCBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9SRUdJT04sXG4gICAgYWNjb3VudDogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVCxcbiAgfSxcbiAgc3RhY2tOYW1lOiBgJHtzb2x1dGlvbk5hbWV9LUNESy1FQzItVWJ1bnR1LU5vblB1YmxpY2AsIFxuICBzZXJ2aWNlTmFtZTogXCJlYzItdWJ1bnR1XCIsXG4gIHNvbHV0aW9uTmFtZSxcbiAgZW52aXJvbm1lbnQsXG4gIGNvc3RjZW50ZXIsXG4gIGVjMktleU5hbWUsXG4gIGR0c3RhbXAsXG4gIGFwcFBvcnQ6IDIyLFxuICB0ZXN0aW5nTG9jYXRpb246IFwiMC4wLjAuMC8zMlwiIFxufSlcblxuY29uc3QgdWJ1bnR1ID0gbmV3IFVidW50dUVDMlN0YWNrKGFwcCwgJ3VidW50dScsIHtcbiAgc3RhY2tOYW1lOiBgJHtzb2x1dGlvbk5hbWV9LUNESy1FQzItVWJ1bnR1YCxcbiAgZW52OiB7XG4gICAgcmVnaW9uOiBhd3NfcmVnaW9uICB8fCBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9SRUdJT04sXG4gICAgYWNjb3VudDogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVCxcbiAgfSxcbn0pXG5cblxuXG5jb25zdCBlYzJfc3RhY2sgPSBuZXcgRUMyRGVwbG95U3RhY2soYXBwLCAnYW1hem9ubGludXgnLCB7XG4gIHN0YWNrTmFtZTogYCR7c29sdXRpb25OYW1lfS1DREstRUMyLUxpbnV4LUFNSS1EZXBsb3lgLFxuICBlbnY6IHtcbiAgICByZWdpb246IGF3c19yZWdpb24gIHx8IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX1JFR0lPTixcbiAgICBhY2NvdW50OiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9BQ0NPVU5ULFxuICB9LFxufSk7XG5cblxuIl19